<%= render "layouts/header" %>

<div class="container">
  <div class="user_show">
    <div class="gym_name">
      <h1><%= @current_user.gym_name %></h1>
    </div>
    <hr>
    <div class="classes">
      <table class="table table-striped table-sm table-bordered table-hover">
        <thead>
          <tr>
            <th>Class</th>
            <th>Coach</th>
            <th>Members</th>
          </tr>
        </thead>
        <tbody>
        <% @groups.order("groups.coach_first_name ASC").each do |group| %>
          <tr>
            <td><%= link_to group.class_time, group_path(id: group.id) %></td>
            <td><%= group.coach_first_name %></td>
            <td><%= pluralize group.members.count, 'member' %></td>
          <tr>
        <% end %>
      </tbody>
    </table>
    </div>

    <%= line_chart @groups.group_by_day(:created_at, format: "%d %B").count,
        discrete: true,
        xtitle: "Date Created",
        ytitle: "Classes Created",
        :colors => ["#16A085"]
    %>

    <div class="buttons">
      <%= link_to "Add Class", new_group_path, class: "btn btn-success" %>
      <%= link_to "Logout", logout_path, class: "btn btn-danger" %>
    </div>
  </div>
</div>
